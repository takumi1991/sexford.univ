---
import Base from '@layouts/Base.astro';
import type { CollectionEntry } from 'astro:content';
import FormattedDate from '@components/FormattedDate.astro';
import CalendarIcon from '@icons/CalendarIcon.astro';
import CategoryIcon from '@icons/CategoryIcon.astro';
import { Image } from 'astro:assets';
import config from '@config/config.json';
import { slugify } from '@utils/slug';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, video, categories, tags } = Astro.props;
---

<Base meta_title={title} description={description} blogpost>
  <article>
    <h1 class="mb-8 text-2xl font-bold md:text-4xl">{title}</h1>
    <div class="aspect-ratio-16/9 flex max-w-full justify-center overflow-hidden">
      {
        video && (
          <iframe
            width="800"
            height="602"
            src={video}
            allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          />
        )
      }
    </div>

    <div class="prose-md prose prose-green mt-8 min-w-full md:prose-lg">
      <slot />
    </div>
    <div class="mt-8">
      {
        tags?.map((tag) => (
          <a
            href={`/tags/${slugify(tag)}`}
            class="mb-2 mr-2 inline-block rounded-full bg-zinc-200 px-3 py-1 text-sm font-semibold capitalize text-zinc-700 dark:bg-zinc-900 dark:text-zinc-400"
          >
            #{tag}
          </a>
        ))
      }
    </div>
  </article>
</Base>
